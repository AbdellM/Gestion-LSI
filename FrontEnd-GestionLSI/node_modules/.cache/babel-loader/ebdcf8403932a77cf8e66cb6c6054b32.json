{"remainingRequest":"C:\\Users\\Lenovo\\Desktop\\Gestion-LSI\\FrontEnd-GestionLSI\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Lenovo\\Desktop\\Gestion-LSI\\FrontEnd-GestionLSI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Lenovo\\Desktop\\Gestion-LSI\\FrontEnd-GestionLSI\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Lenovo\\Desktop\\Gestion-LSI\\FrontEnd-GestionLSI\\src\\views\\Prof\\Addnote.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Lenovo\\Desktop\\Gestion-LSI\\FrontEnd-GestionLSI\\src\\views\\Prof\\Addnote.vue","mtime":1624749360825},{"path":"C:\\Users\\Lenovo\\Desktop\\Gestion-LSI\\FrontEnd-GestionLSI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lenovo\\Desktop\\Gestion-LSI\\FrontEnd-GestionLSI\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Lenovo\\Desktop\\Gestion-LSI\\FrontEnd-GestionLSI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lenovo\\Desktop\\Gestion-LSI\\FrontEnd-GestionLSI\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBOYXZCYXIgZnJvbSAiQC9jb21wb25lbnRzL05hdkJhci52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkZG5vdGUiLAogIGNvbXBvbmVudHM6IHsKICAgIE5hdkJhcjogTmF2QmFyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgTW9kdWxlczogW10sCiAgICAgIFN0dWRlbnRzOiBbXSwKICAgICAgbW9kdWxlOiAiIiwKICAgICAgbm90ZTogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRNb2R1bGVQcm9mOiBmdW5jdGlvbiBnZXRNb2R1bGVQcm9mKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldE1vZHVsZVByb2YiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLk1vZHVsZXMgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRTdHVkZW50Tm90ZTogZnVuY3Rpb24gZ2V0U3R1ZGVudE5vdGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubW9kdWxlICE9ICIiKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldFN0dWRlbnROb3RlIiwgewogICAgICAgICAgbW9kdWxlOiB0aGlzLm1vZHVsZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczIuU3R1ZGVudHMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc3VibWl0U3R1ZGVudE5vdGU6IGZ1bmN0aW9uIHN1Ym1pdFN0dWRlbnROb3RlKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic3VibWl0U3R1ZGVudE5vdGUiLCB7CiAgICAgICAgZGF0YTogdGhpcy5nZXREYXRhLAogICAgICAgIG1vZHVsZTogdGhpcy5tb2R1bGUKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZ2V0U3RkOiBmdW5jdGlvbiBnZXRTdGQoKSB7CiAgICAgIHJldHVybiB0aGlzLmdldFN0dWRlbnROb3RlKCk7CiAgICB9LAogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7CiAgICAgIHZhciBpID0gMDsKICAgICAgdGhpcy5TdHVkZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzdGQpIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoInN0dWRlbnRfaWRbIiArIGkgKyAiXSIsIHN0ZC5pZCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJub3RlWyIgKyBpICsgIl0iLCBfdGhpczMubm90ZVtpXSk7CiAgICAgICAgaSsrOwogICAgICB9KTsKICAgICAgcmV0dXJuIGZvcm1EYXRhOwogICAgfQogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5nZXRNb2R1bGVQcm9mKCk7CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\Lenovo\\Desktop\\Gestion-LSI\\FrontEnd-GestionLSI\\src\\views\\Prof\\Addnote.vue"],"names":[],"mappings":";;;;;AA6CA,OAAO,MAAP,MAAmB,yBAAnB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,SADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,MAAM,EAAN;AADU,GAFC;AAKb,EAAA,IALa,kBAKN;AACL,WAAO;AACL,MAAA,OAAO,EAAE,EADJ;AAEL,MAAA,QAAQ,EAAE,EAFL;AAGL,MAAA,MAAM,EAAE,EAHH;AAIL,MAAA,IAAI,EAAE;AAJD,KAAP;AAMD,GAZY;AAab,EAAA,OAAO,EAAE;AACP,IAAA,aADO,2BACS;AAAA;;AACd,WAAK,MAAL,CAAY,QAAZ,CAAqB,eAArB,EAAsC,IAAtC,CAA2C,UAAC,QAAD,EAAc;AACvD,QAAA,KAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAxB;AACD,OAFD;AAGD,KALM;AAMP,IAAA,cANO,4BAMU;AAAA;;AACf,UAAI,KAAK,MAAL,IAAe,EAAnB,EAAuB;AACrB,aAAK,MAAL,CACG,QADH,CACY,gBADZ,EAC8B;AAC1B,UAAA,MAAM,EAAE,KAAK;AADa,SAD9B,EAIG,IAJH,CAIQ,UAAC,QAAD,EAAc;AAClB,UAAA,MAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAzB;AACD,SANH;AAOF;AACD,KAhBM;AAiBP,IAAA,iBAjBO,+BAiBa;AAClB,WAAK,MAAL,CAAY,QAAZ,CAAqB,mBAArB,EAA0C;AACxC,QAAA,IAAI,EAAE,KAAK,OAD6B;AAExC,QAAA,MAAM,EAAE,KAAK;AAF2B,OAA1C;AAID;AAtBM,GAbI;AAqCb,EAAA,QAAQ,EAAE;AACR,IAAA,MADQ,oBACC;AACP,aAAO,KAAK,cAAL,EAAP;AACD,KAHO;AAIR,IAAA,OAJQ,qBAIE;AAAA;;AACR,UAAI,QAAO,GAAI,IAAI,eAAJ,EAAf;AACA,UAAI,CAAA,GAAI,CAAR;AACA,WAAK,QAAL,CAAc,OAAd,CAAsB,UAAC,GAAD,EAAS;AAC7B,QAAA,QAAQ,CAAC,MAAT,CAAgB,gBAAgB,CAAhB,GAAoB,GAApC,EAAyC,GAAG,CAAC,EAA7C;AACA,QAAA,QAAQ,CAAC,MAAT,CAAgB,UAAU,CAAV,GAAc,GAA9B,EAAmC,MAAI,CAAC,IAAL,CAAU,CAAV,CAAnC;AACA,QAAA,CAAC;AACF,OAJD;AAKA,aAAO,QAAP;AACD;AAbO,GArCG;AAoDb,EAAA,WApDa,yBAoDC;AACZ,SAAK,aAAL;AACD;AAtDY,CAAf","sourcesContent":["<template>\r\n  <NavBar />\r\n  <div class=\"container\">\r\n    <form @submit.prevent=\"submitStudentNote\">\r\n      <div class=\"form-group\">\r\n        <select v-model=\"module\" class=\"form-select\">\r\n          <option disabled value=\"\">Selectionez un Module</option>\r\n          <option v-for=\"Module in Modules\" :key=\"Module\" :value=\"Module.id\">\r\n            {{ Module.module }}\r\n          </option>\r\n        </select>\r\n        {{ getStd }}\r\n      </div>\r\n\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Nom</th>\r\n            <th scope=\"col\">Prenom</th>\r\n            <th scope=\"col\">CNE</th>\r\n            <th scope=\"col\">Note</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(Student, index) in Students\" :key=\"Student\">\r\n            <td>{{ Student.nom }}</td>\r\n            <td>{{ Student.prenom }}</td>\r\n            <td>{{ Student.cne }}</td>\r\n            <td>\r\n              <input\r\n                v-model=\"note[index]\"\r\n                type=\"number\"\r\n                :placeholder=\"Student.note\"\r\n              />\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"@/components/NavBar.vue\";\r\n\r\nexport default {\r\n  name: \"Addnote\",\r\n  components: {\r\n    NavBar,\r\n  },\r\n  data() {\r\n    return {\r\n      Modules: [],\r\n      Students: [],\r\n      module: \"\",\r\n      note: [],\r\n    };\r\n  },\r\n  methods: {\r\n    getModuleProf() {\r\n      this.$store.dispatch(\"getModuleProf\").then((response) => {\r\n        this.Modules = response.data;\r\n      });\r\n    },\r\n    getStudentNote() {\r\n      if (this.module != \"\") {\r\n        this.$store\r\n          .dispatch(\"getStudentNote\", {\r\n            module: this.module,\r\n          })\r\n          .then((response) => {\r\n            this.Students = response.data;\r\n          });\r\n      }\r\n    },\r\n    submitStudentNote() {\r\n      this.$store.dispatch(\"submitStudentNote\", {\r\n        data: this.getData,\r\n        module: this.module,\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    getStd() {\r\n      return this.getStudentNote();\r\n    },\r\n    getData() {\r\n      let formData = new URLSearchParams();\r\n      let i = 0;\r\n      this.Students.forEach((std) => {\r\n        formData.append(\"student_id[\" + i + \"]\", std.id);\r\n        formData.append(\"note[\" + i + \"]\", this.note[i]);\r\n        i++;\r\n      });\r\n      return formData;\r\n    },\r\n  },\r\n  beforeMount() {\r\n    this.getModuleProf();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nlabel {\r\n  display: flex;\r\n  margin-top: 20px;\r\n}\r\nselect {\r\n  display: flex;\r\n  margin-top: 20px;\r\n}\r\nbutton {\r\n  display: flex;\r\n  margin-top: 20px;\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}